<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CompoundItem &mdash; SUP MVVM</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=b51e6972"></script>
        <script src="_static/doctools.js?v=9bcbadda"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Standard items" href="standard_items.html" />
    <link rel="prev" title="Main components" href="main_components.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            sup-mvvm
          </a>
              <div class="version">
                1.8.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quick_start.html">Quick start</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="main_components.html">Main components</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">CompoundItem</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#adding-properties">Adding properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#accessing-properties">Accessing properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-compound-items-as-properties">Other compound items as properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#remark-on-the-back-compatibility">Remark on the back-compatibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="#remark-on-conventional-class-api">Remark on conventional class API</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compounditem-api">CompoundItem API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#_CPPv4N4mvvm12CompoundItemE"><code class="docutils literal notranslate"><span class="pre">mvvm::CompoundItem</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="standard_items.html">Standard items</a></li>
<li class="toctree-l2"><a class="reference internal" href="sessionmodel.html">SessionModel</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api_reference.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">sup-mvvm</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="main_components.html">Main components</a></li>
      <li class="breadcrumb-item active">CompoundItem</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/compound_item.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="compounditem">
<h1>CompoundItem<a class="headerlink" href="#compounditem" title="Link to this heading"></a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">CompoundItem</span></code> is a convenience class derived from <code class="docutils literal notranslate"><span class="pre">SessionItem</span></code> that offers
several additional methods to simplify the creation of item properties.</p>
<section id="adding-properties">
<h2>Adding properties<a class="headerlink" href="#adding-properties" title="Link to this heading"></a></h2>
<p>The property of the <code class="docutils literal notranslate"><span class="pre">CompoundItem</span></code> is another child item, inserted into the named
container and carrying the data. There can be only one property item associated with the
property name, and it can not be removed from the parent.</p>
<p>In the snippet below the <code class="docutils literal notranslate"><span class="pre">GaussianItem</span></code> carries two properties: one for the mean of the
distribution, another for standard deviation:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">GaussianItem</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">CompoundItem</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">  </span><span class="n">GaussianItem</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">CompoundItem</span><span class="p">(</span><span class="s">&quot;GaussianItem&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="n">AddProperty</span><span class="p">(</span><span class="s">&quot;mean&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">);</span>
<span class="w">    </span><span class="n">AddProperty</span><span class="p">(</span><span class="s">&quot;std_dev&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Without <code class="docutils literal notranslate"><span class="pre">CompoundItem</span></code>, equivalent code would look like:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">SessionItem</span><span class="w"> </span><span class="n">parent</span><span class="p">;</span>
<span class="n">parent</span><span class="p">.</span><span class="n">SetDisplayName</span><span class="p">(</span><span class="s">&quot;GaussianItem&quot;</span><span class="p">);</span>

<span class="n">parent</span><span class="p">.</span><span class="n">RegisterTag</span><span class="p">(</span><span class="n">TagInfo</span><span class="o">::</span><span class="n">CreatePropertyTag</span><span class="p">(</span><span class="s">&quot;mean&quot;</span><span class="p">));</span>
<span class="k">auto</span><span class="w"> </span><span class="n">mean_item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">InsertItem</span><span class="o">&lt;</span><span class="n">PropertyItem</span><span class="o">&gt;</span><span class="p">({</span><span class="s">&quot;mean&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">});</span>
<span class="n">mean_item</span><span class="o">-&gt;</span><span class="n">SetDisplayName</span><span class="p">(</span><span class="s">&quot;mean&quot;</span><span class="p">);</span>
<span class="n">mean_item</span><span class="o">-&gt;</span><span class="n">SetData</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="n">DataRole</span><span class="o">::</span><span class="n">kData</span><span class="p">);</span>

<span class="n">parent</span><span class="p">.</span><span class="n">RegisterTag</span><span class="p">(</span><span class="n">TagInfo</span><span class="o">::</span><span class="n">CreatePropertyTag</span><span class="p">(</span><span class="s">&quot;std_dev&quot;</span><span class="p">));</span>
<span class="k">auto</span><span class="w"> </span><span class="n">std_dev_item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">parent</span><span class="p">.</span><span class="n">InsertItem</span><span class="o">&lt;</span><span class="n">PropertyItem</span><span class="o">&gt;</span><span class="p">({</span><span class="s">&quot;std_dev&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">});</span>
<span class="n">std_dev_item</span><span class="o">-&gt;</span><span class="n">SetDisplayName</span><span class="p">(</span><span class="s">&quot;std_dev&quot;</span><span class="p">);</span>
<span class="n">std_dev_item</span><span class="o">-&gt;</span><span class="n">SetData</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span><span class="w"> </span><span class="n">DataRole</span><span class="o">::</span><span class="n">kData</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="accessing-properties">
<h2>Accessing properties<a class="headerlink" href="#accessing-properties" title="Link to this heading"></a></h2>
<p>The methods <code class="docutils literal notranslate"><span class="pre">CompoundItem::Property</span></code> and <code class="docutils literal notranslate"><span class="pre">CompoundItem::SetProperty</span></code> can be used to access
and modify the underlying data of the property item:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">GaussianItem</span><span class="w"> </span><span class="n">item</span><span class="p">;</span>
<span class="n">item</span><span class="p">.</span><span class="n">SetProperty</span><span class="p">(</span><span class="s">&quot;mean&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">42.0</span><span class="p">);</span>

<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="n">Property</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;mean&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="mf">42.0</span>
</pre></div>
</div>
<p>The same can be done via <code class="docutils literal notranslate"><span class="pre">SessionItem</span></code> API:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">GaussianItem</span><span class="w"> </span><span class="n">item</span><span class="p">;</span>

<span class="n">item</span><span class="p">.</span><span class="n">GetItem</span><span class="p">(</span><span class="s">&quot;mean&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">SetData</span><span class="p">(</span><span class="mf">42.0</span><span class="p">,</span><span class="w"> </span><span class="n">DataRole</span><span class="o">::</span><span class="n">kData</span><span class="p">);</span>

<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="n">GetItem</span><span class="p">(</span><span class="s">&quot;mean&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">Data</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="n">DataRole</span><span class="o">::</span><span class="n">kData</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="mf">42.0</span>
</pre></div>
</div>
</section>
<section id="other-compound-items-as-properties">
<h2>Other compound items as properties<a class="headerlink" href="#other-compound-items-as-properties" title="Link to this heading"></a></h2>
<p>Other <code class="docutils literal notranslate"><span class="pre">CompoundItems</span></code> can be registered as property items too.
In the snippet below we define a <code class="docutils literal notranslate"><span class="pre">VectorItem</span></code> with three properties for (X, Y, Z) coordinates:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">VectorItem</span>
<span class="p">{</span>
<span class="w">  </span><span class="n">VectorItem</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">CompoundItem</span><span class="p">(</span><span class="s">&quot;VectorItem&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="n">AddProperty</span><span class="p">(</span><span class="s">&quot;X&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">);</span>
<span class="w">    </span><span class="n">AddProperty</span><span class="p">(</span><span class="s">&quot;Y&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">);</span>
<span class="w">    </span><span class="n">AddProperty</span><span class="p">(</span><span class="s">&quot;Z&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
<p>After that, we define <code class="docutils literal notranslate"><span class="pre">SphereItem</span></code> with the item <code class="docutils literal notranslate"><span class="pre">VectorItem</span></code> registered as a <cite>Position</cite>
property:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">SphereItem</span>
<span class="p">{</span>
<span class="w">  </span><span class="n">SphereItem</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">CompoundItem</span><span class="p">(</span><span class="s">&quot;SphereItem&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="n">AddProperty</span><span class="o">&lt;</span><span class="n">VectorItem</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;Position&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
</section>
<section id="remark-on-the-back-compatibility">
<h2>Remark on the back-compatibility<a class="headerlink" href="#remark-on-the-back-compatibility" title="Link to this heading"></a></h2>
<p>It is important to stress that the string <cite>“mean”</cite> used during
property creation via convenience method <cite>AddProperty(“mean”, 0.0)</cite> plays two roles:
it is used as a tag name for container, and as a display name for property item.</p>
<p>Given below is an excerpt of an XML obtained after the serialization of <cite>GaussianItem</cite>:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">ItemContainer</span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="n">TagInfo</span><span class="w"> </span><span class="n">max</span><span class="o">=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="n">min</span><span class="o">=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;mean&quot;</span><span class="o">&gt;</span><span class="n">PropertyItem</span><span class="o">&lt;/</span><span class="n">TagInfo</span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="n">Item</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="s">&quot;PropertyItem&quot;</span><span class="o">&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="n">ItemData</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="n">Variant</span><span class="w"> </span><span class="n">role</span><span class="o">=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="s">&quot;double&quot;</span><span class="o">&gt;</span><span class="mf">42.0</span><span class="o">&lt;/</span><span class="n">Variant</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="n">Variant</span><span class="w"> </span><span class="n">role</span><span class="o">=</span><span class="s">&quot;2&quot;</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="s">&quot;string&quot;</span><span class="o">&gt;</span><span class="n">mean</span><span class="o">&lt;/</span><span class="n">Variant</span><span class="o">&gt;</span>
<span class="w">    </span><span class="o">&lt;/</span><span class="n">ItemData</span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&lt;/</span><span class="n">Item</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">ItemContainer</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The string <cite>“mean”</cite> appears in <cite>TagInfo</cite> serialization (representing the container name), and it appears as the display name of
the <cite>PropertyItem</cite>. This might cause a compatibility problem if the user decide to change the
display name of the property item from <cite>“mean”</cite> to <cite>“Mean”</cite>, for example:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">AddProperty</span><span class="p">(</span><span class="s">&quot;Mean&quot;</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">);</span><span class="w"> </span><span class="c1">// mean -&gt; Mean</span>
</pre></div>
</div>
<p>It will then affect the name of the container and will lead to failure if one
decides to update a new item from old XML files (“no such container exists”). To
reduce the risk it is recommended to use unique names for item containers. One
possible way of doing this is shown below:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">GaussianItem</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">CompoundItem</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">P_MEAN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;P_MEAN&quot;</span><span class="p">;</span>
<span class="w">  </span><span class="n">GaussianItem</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">CompoundItem</span><span class="p">(</span><span class="s">&quot;GaussianItem&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">  </span><span class="n">AddProperty</span><span class="p">(</span><span class="n">P_MEAN</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">SetDisplayName</span><span class="p">(</span><span class="s">&quot;Mean&quot;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Here the container was registered using the name which unlikely to be changed,
and the display name is set separately. It also allows to access properties
using string constants, instead of literals:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="n">Property</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="n">GaussianItem</span><span class="o">::</span><span class="n">P_MEAN</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="o">&gt;&gt;&gt;</span><span class="w"> </span><span class="mf">42.0</span>
</pre></div>
</div>
</section>
<section id="remark-on-conventional-class-api">
<h2>Remark on conventional class API<a class="headerlink" href="#remark-on-conventional-class-api" title="Link to this heading"></a></h2>
<p>As we have seen above, the <cite>CompoundItem</cite> allows conveniently registering class properties. These
properties are based on the same <cite>SessionItem</cite> machinery and are the subject to
all benefits that the <cite>SessionItem</cite> hierarchy offer:</p>
<ul class="simple">
<li><p>Serialization.</p></li>
<li><p>Editing in Qt widget.</p></li>
<li><p>Undo/redo.</p></li>
</ul>
<p>However, the extensive usage of <cite>CompoundItem</cite> API to manipulate item’s
properties has its disadvantages:</p>
<ul class="simple">
<li><p>Code is becoming cluttered with constructs like
<cite>item.Property&lt;double&gt;(GaussianItem::P_MEAN)</cite>.</p></li>
<li><p>Further refactoring might become problematic because of the lack of
compile-time checks.</p></li>
</ul>
<p>These problems can be addressed by using a conventional class API along with
property machinery in the background.</p>
<p>In file <cite>GaussianItem.h</cite>:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">GaussianItem</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">CompoundItem</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">  </span><span class="n">GaussianItem</span><span class="p">();</span>

<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="nf">GetMean</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetMean</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
<p>In file <cite>GaussianItem.cpp</cite>:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">kMean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;kMean&quot;</span><span class="p">;</span>

<span class="n">GaussianItem</span><span class="o">::</span><span class="n">GaussianItem</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">CompoundItem</span><span class="p">(</span><span class="s">&quot;GaussianItem&quot;</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">  </span><span class="n">AddProperty</span><span class="p">(</span><span class="n">kMean</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">SetDisplayName</span><span class="p">(</span><span class="s">&quot;Mean&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">double</span><span class="w"> </span><span class="n">GaussianItem</span><span class="o">::</span><span class="n">GetMean</span><span class="p">()</span><span class="w"> </span><span class="k">const</span>
<span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">Property</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="n">kMean</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="n">GaussianItem</span><span class="o">::</span><span class="n">SetMean</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">value</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">  </span><span class="n">SetProperty</span><span class="p">(</span><span class="n">kMean</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>With this approach class API explicitly communicates its responsibilities, and
implementation details of property machinery remain hidden from the users of the
class.</p>
</section>
<section id="compounditem-api">
<h2>CompoundItem API<a class="headerlink" href="#compounditem-api" title="Link to this heading"></a></h2>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N4mvvm12CompoundItemE">
<span id="_CPPv3N4mvvm12CompoundItemE"></span><span id="_CPPv2N4mvvm12CompoundItemE"></span><span id="mvvm::CompoundItem"></span><span class="target" id="classmvvm_1_1CompoundItem"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CompoundItem</span></span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><span class="n"><span class="pre">mvvm</span></span><span class="p"><span class="pre">::</span></span><a class="reference internal" href="sessionitem.html#_CPPv4N4mvvm11SessionItemE" title="mvvm::SessionItem"><span class="n"><span class="pre">SessionItem</span></span></a><a class="headerlink" href="#_CPPv4N4mvvm12CompoundItemE" title="Link to this definition"></a><br /></dt>
<dd><p>A compound item with convenient methods for adding properties. The property is a single <a class="reference internal" href="standard_items.html#classmvvm_1_1PropertyItem"><span class="std std-ref">PropertyItem</span></a> or another <a class="reference internal" href="#classmvvm_1_1CompoundItem"><span class="std std-ref">CompoundItem</span></a> inserted into the named container and carrying the data. There can be only one property item associated with the property name, and it can not be removed from the parent. </p>
<p>Subclassed by <a class="reference internal" href="standard_items.html#classmvvm_1_1BasicAxisItem"><span class="std std-ref">mvvm::BasicAxisItem</span></a>, <a class="reference internal" href="standard_items.html#classmvvm_1_1ContainerItem"><span class="std std-ref">mvvm::ContainerItem</span></a>, <a class="reference internal" href="standard_items.html#classmvvm_1_1Data1DItem"><span class="std std-ref">mvvm::Data1DItem</span></a>, <a class="reference internal" href="standard_items.html#classmvvm_1_1GraphItem"><span class="std std-ref">mvvm::GraphItem</span></a>, mvvm::LineSeriesDataItem, mvvm::LineSeriesItem, <a class="reference internal" href="standard_items.html#classmvvm_1_1PenItem"><span class="std std-ref">mvvm::PenItem</span></a>, mvvm::PointItem, <a class="reference internal" href="standard_items.html#classmvvm_1_1TextItem"><span class="std std-ref">mvvm::TextItem</span></a>, <a class="reference internal" href="standard_items.html#classmvvm_1_1VectorItem"><span class="std std-ref">mvvm::VectorItem</span></a>, <a class="reference internal" href="standard_items.html#classmvvm_1_1ViewportItem"><span class="std std-ref">mvvm::ViewportItem</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK4mvvm12CompoundItem5CloneEv">
<span id="_CPPv3NK4mvvm12CompoundItem5CloneEv"></span><span id="_CPPv2NK4mvvm12CompoundItem5CloneEv"></span><span id="mvvm::CompoundItem::CloneC"></span><span class="target" id="classmvvm_1_1CompoundItem_1a2dc91bdc30a105fed22d98d35ca702ed"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">unique_ptr</span></span><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="sessionitem.html#_CPPv4N4mvvm11SessionItemE" title="mvvm::SessionItem"><span class="n"><span class="pre">SessionItem</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Clone</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">override</span></span><a class="headerlink" href="#_CPPv4NK4mvvm12CompoundItem5CloneEv" title="Link to this definition"></a><br /></dt>
<dd><p>Creates a clone of the item. </p>
<p>Creates an exact clone of the item together with all its children. All item identifiers will be the same. Please note, that cloned items can’t be used along with the original item in the same model due to memory pool identifiers collision. Use utils::CopyItem to create deep copies that have different item identifiers. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0EN4mvvm12CompoundItem9AddBranchER1TRKNSt6stringE">
<span id="_CPPv3I0EN4mvvm12CompoundItem9AddBranchERKNSt6stringE"></span><span id="_CPPv2I0EN4mvvm12CompoundItem9AddBranchERKNSt6stringE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classmvvm_1_1CompoundItem_1a14076ea7af84b0ff8f9d374ab17ee71e"></span><a class="reference internal" href="#_CPPv4I0EN4mvvm12CompoundItem9AddBranchER1TRKNSt6stringE" title="mvvm::CompoundItem::AddBranch::T"><span class="n"><span class="pre">T</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="sig-name descname"><span class="n"><span class="pre">AddBranch</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">name</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN4mvvm12CompoundItem9AddBranchER1TRKNSt6stringE" title="Link to this definition"></a><br /></dt>
<dd><p>Adds and item of given type, and registers it under the given name as branch item. </p>
<p>
A branch item is an item which is normally shown in top-level item hierarchies, but hidden from property editors. Once inserted, it can’t be removed. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> – The name of the tag to register. </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Reference to just created item.</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0EN4mvvm12CompoundItem11AddPropertyER1TRKNSt6stringE">
<span id="_CPPv3I0EN4mvvm12CompoundItem11AddPropertyERKNSt6stringE"></span><span id="_CPPv2I0EN4mvvm12CompoundItem11AddPropertyERKNSt6stringE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classmvvm_1_1CompoundItem_1af99fda482559b075955ec462195f742d"></span><a class="reference internal" href="#_CPPv4I0EN4mvvm12CompoundItem11AddPropertyER1TRKNSt6stringE" title="mvvm::CompoundItem::AddProperty::T"><span class="n"><span class="pre">T</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="sig-name descname"><span class="n"><span class="pre">AddProperty</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">name</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN4mvvm12CompoundItem11AddPropertyER1TRKNSt6stringE" title="Link to this definition"></a><br /></dt>
<dd><p>Adds an item of a given type and register it under the given ‘name’ as a property item. </p>
<p>
A property item is an item which is normally hidden in top-level item hierarchies, but shown in property editors. Once inserted, it can’t be removed. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> – The name of the tag to register. </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Reference to just created item.</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0EN4mvvm12CompoundItem11AddPropertyER12PropertyItemRKNSt6stringERK1V">
<span id="_CPPv3I0EN4mvvm12CompoundItem11AddPropertyERKNSt6stringERK1V"></span><span id="_CPPv2I0EN4mvvm12CompoundItem11AddPropertyERKNSt6stringERK1V"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">V</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classmvvm_1_1CompoundItem_1a179220d61fffb88cddcc0b489a74a49b"></span><a class="reference internal" href="standard_items.html#_CPPv4N4mvvm12PropertyItemE" title="mvvm::PropertyItem"><span class="n"><span class="pre">PropertyItem</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="sig-name descname"><span class="n"><span class="pre">AddProperty</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">name</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0EN4mvvm12CompoundItem11AddPropertyER12PropertyItemRKNSt6stringERK1V" title="mvvm::CompoundItem::AddProperty::V"><span class="n"><span class="pre">V</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN4mvvm12CompoundItem11AddPropertyER12PropertyItemRKNSt6stringERK1V" title="Link to this definition"></a><br /></dt>
<dd><p>Adds property item and sets its value. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N4mvvm12CompoundItem11AddPropertyERKNSt6stringEPKc">
<span id="_CPPv3N4mvvm12CompoundItem11AddPropertyERKNSt6stringEPKc"></span><span id="_CPPv2N4mvvm12CompoundItem11AddPropertyERKNSt6stringEPKc"></span><span id="mvvm::CompoundItem::AddProperty__ssCR.cCP"></span><span class="target" id="classmvvm_1_1CompoundItem_1a5a105244bfb9f2bde8eb016b036803a2"></span><a class="reference internal" href="standard_items.html#_CPPv4N4mvvm12PropertyItemE" title="mvvm::PropertyItem"><span class="n"><span class="pre">PropertyItem</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="sig-name descname"><span class="n"><span class="pre">AddProperty</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">name</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N4mvvm12CompoundItem11AddPropertyERKNSt6stringEPKc" title="Link to this definition"></a><br /></dt>
<dd><p>Adds property item and sets its value (specialised for char). </p>
<p>Specialized version for const char is introduced to avoid “const char” conversion into variant&lt;bool&gt;. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK4mvvm12CompoundItem14GetDisplayNameEv">
<span id="_CPPv3NK4mvvm12CompoundItem14GetDisplayNameEv"></span><span id="_CPPv2NK4mvvm12CompoundItem14GetDisplayNameEv"></span><span id="mvvm::CompoundItem::GetDisplayNameC"></span><span class="target" id="classmvvm_1_1CompoundItem_1a81a7536fd2a6b138bd77b49b97733b5c"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">GetDisplayName</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">override</span></span><a class="headerlink" href="#_CPPv4NK4mvvm12CompoundItem14GetDisplayNameEv" title="Link to this definition"></a><br /></dt>
<dd><p>Returns item display name. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0ENK4mvvm12CompoundItem8PropertyE1TRKNSt6stringE">
<span id="_CPPv3I0ENK4mvvm12CompoundItem8PropertyERKNSt6stringE"></span><span id="_CPPv2I0ENK4mvvm12CompoundItem8PropertyERKNSt6stringE"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classmvvm_1_1CompoundItem_1aeb060ba3f92303b18e64c04545054de2"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0ENK4mvvm12CompoundItem8PropertyE1TRKNSt6stringE" title="mvvm::CompoundItem::Property::T"><span class="n"><span class="pre">T</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Property</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">tag</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4I0ENK4mvvm12CompoundItem8PropertyE1TRKNSt6stringE" title="Link to this definition"></a><br /></dt>
<dd><p>Returns value stored in property item. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tag</strong> – The name under which corresponding property item is registered. </p>
</dd>
<dt class="field-even">Template Parameters<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>T</strong> – The type to cast the value.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The property value. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0EN4mvvm12CompoundItem11SetPropertyEvRKNSt6stringERK1T">
<span id="_CPPv3I0EN4mvvm12CompoundItem11SetPropertyERKNSt6stringERK1T"></span><span id="_CPPv2I0EN4mvvm12CompoundItem11SetPropertyERKNSt6stringERK1T"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classmvvm_1_1CompoundItem_1a4708bd117ffa8c65809b173c31ba0a5e"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SetProperty</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">tag</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0EN4mvvm12CompoundItem11SetPropertyEvRKNSt6stringERK1T" title="mvvm::CompoundItem::SetProperty::T"><span class="n"><span class="pre">T</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN4mvvm12CompoundItem11SetPropertyEvRKNSt6stringERK1T" title="Link to this definition"></a><br /></dt>
<dd><p>Sets the value of the property. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tag</strong> – The name under which corresponding property item is registered. </p></li>
<li><p><strong>value</strong> – The value to set. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="main_components.html" class="btn btn-neutral float-left" title="Main components" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="standard_items.html" class="btn btn-neutral float-right" title="Standard items" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright ITER Organization.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>